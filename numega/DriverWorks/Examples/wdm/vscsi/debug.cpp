// debug.cpp
//
// Generated by DriverWizard version DriverStudio 2.7.0 (Build 554)
// Requires Compuware's DriverWorks classes
//

#include <vdw.h>
#include "vscsi.h"
#include <scsi.h>

VOID DumpSrb(PSCSI_REQUEST_BLOCK Srb)
{
//	t << "Path %x Target %x Lun %x\n", Srb->PathId, Srb->TargetId, Srb->Lun) );

	switch ( Srb->Function )
	{
	case SRB_FUNCTION_EXECUTE_SCSI:
//		t << "SRB_FUNCTION_EXECUTE_SCSI\n") );
		break;
	case SRB_FUNCTION_CLAIM_DEVICE:
		t << "SRB_FUNCTION_CLAIM_DEVICE\n";
		break;
	case SRB_FUNCTION_IO_CONTROL:
		t << "SRB_FUNCTION_IO_CONTROL\n";
		break;
	case SRB_FUNCTION_RECEIVE_EVENT:
		t << "SRB_FUNCTION_RECEIVE_EVENT\n";
		break;
	case SRB_FUNCTION_RELEASE_QUEUE:
		t << "SRB_FUNCTION_RELEASE_QUEUE\n";
		break;
	case SRB_FUNCTION_ATTACH_DEVICE:
		t << "SRB_FUNCTION_ATTACH_DEVICE\n";
		break;
	case SRB_FUNCTION_RELEASE_DEVICE:
		t << "SRB_FUNCTION_RELEASE_DEVICE\n";
		break;
	case SRB_FUNCTION_SHUTDOWN:
		t << "SRB_FUNCTION_SHUTDOWN\n";
		break;
	case SRB_FUNCTION_FLUSH:
		t << "SRB_FUNCTION_FLUSH\n";
		break;
	case SRB_FUNCTION_ABORT_COMMAND:
		t << "SRB_FUNCTION_ABORT_COMMAND\n";
		break;
	case SRB_FUNCTION_RELEASE_RECOVERY:
		t << "SRB_FUNCTION_RELEASE_RECOVERY\n";
		break;
	case SRB_FUNCTION_RESET_BUS:
		t << "SRB_FUNCTION_RESET_BUS\n";
		break;
	case SRB_FUNCTION_RESET_DEVICE:
		t << "SRB_FUNCTION_RESET_DEVICE\n";
		break;
	case SRB_FUNCTION_TERMINATE_IO:
		t << "SRB_FUNCTION_TERMINATE_IO\n";
		break;
	case SRB_FUNCTION_FLUSH_QUEUE:
		t << "SRB_FUNCTION_FLUSH_QUEUE\n";
		break;
	case SRB_FUNCTION_REMOVE_DEVICE:
		t << "SRB_FUNCTION_REMOVE_DEVICE\n";
		break;
	case SRB_FUNCTION_WMI:
		t << "SRB_FUNCTION_WMI\n";
		break;
	case SRB_FUNCTION_LOCK_QUEUE:
		t << "SRB_FUNCTION_LOCK_QUEUE\n";
		break;
	case SRB_FUNCTION_UNLOCK_QUEUE:
		t << "SRB_FUNCTION_UNLOCK_QUEUE\n";
		break;
	case SRB_FUNCTION_RESET_LOGICAL_UNIT:
		t << "SRB_FUNCTION_RESET_LOGICAL_UNIT\n";
		break;
	default:
		t << "Unknown Function %x\n", Srb->Function;
		break;
	}

	if ( Srb->Function != SRB_FUNCTION_EXECUTE_SCSI )
		return;


	switch ( Srb->Cdb[0] )
	{
	case SCSIOP_TEST_UNIT_READY:
		t << "SCSIOP_TEST_UNIT_READY\n";
		break;
	case SCSIOP_REZERO_UNIT:
		t << "SCSIOP_REZERO_UNIT\n";
		break;
	case SCSIOP_REQUEST_BLOCK_ADDR:
		t << "SCSIOP_REQUEST_BLOCK_ADDR\n";
		break;
	case SCSIOP_REQUEST_SENSE:
		t << "SCSIOP_REQUEST_SENSE\n";
		break;
	case SCSIOP_FORMAT_UNIT:
		t << "SCSIOP_FORMAT_UNIT\n";
		break;
	case SCSIOP_READ_BLOCK_LIMITS:
		t << "SCSIOP_READ_BLOCK_LIMITS\n";
		break;
	case SCSIOP_REASSIGN_BLOCKS:
		t << "SCSIOP_REASSIGN_BLOCKS\n";
		break;
	case SCSIOP_READ6:
		t << "SCSIOP_READ6\n";
		break;
	case SCSIOP_WRITE6:
		t << "SCSIOP_WRITE6\n";
		break;
	case SCSIOP_SEEK6:
		t << "SCSIOP_SEEK6\n";
		break;
	case SCSIOP_SEEK_BLOCK:
		t << "SCSIOP_SEEK_BLOCK\n";
		break;
	case SCSIOP_PARTITION:
		t << "SCSIOP_PARTITION\n";
		break;
	case SCSIOP_READ_REVERSE:
		t << "SCSIOP_READ_REVERSE\n";
		break;
	case SCSIOP_WRITE_FILEMARKS:
		t << "SCSIOP_WRITE_FILEMARKS\n";
		break;
	case SCSIOP_SPACE:
		t << "SCSIOP_SPACE\n";
		break;
	case SCSIOP_INQUIRY:
//		t << "SCSIOP_INQUIRY\n";
		break;
	case SCSIOP_VERIFY6:
		t << "SCSIOP_VERIFY6\n";
		break;
	case SCSIOP_RECOVER_BUF_DATA:
		t << "SCSIOP_RECOVER_BUF_DATA\n";
		break;
	case SCSIOP_MODE_SELECT:
		t << "SCSIOP_MODE_SELECT\n";
		break;
	case SCSIOP_RESERVE_UNIT:
		t << "SCSIOP_RESERVE_UNIT\n";
		break;
	case SCSIOP_RELEASE_UNIT:
		t << "SCSIOP_RELEASE_UNIT\n";
		break;
	case SCSIOP_COPY:
		t << "SCSIOP_COPY\n";
		break;
	case SCSIOP_ERASE:
		t << "SCSIOP_ERASE\n";
		break;
	case SCSIOP_MODE_SENSE:
		t << "SCSIOP_MODE_SENSE\n";
		break;
	case SCSIOP_START_STOP_UNIT:
		t << "SCSIOP_START_STOP_UNIT\n";
		break;
	case SCSIOP_RECEIVE_DIAGNOSTIC:
		t << "SCSIOP_RECEIVE_DIAGNOSTIC\n";
		break;
	case SCSIOP_SEND_DIAGNOSTIC:
		t << "SCSIOP_SEND_DIAGNOSTIC\n";
		break;
	case SCSIOP_MEDIUM_REMOVAL:
		t << "SCSIOP_MEDIUM_REMOVAL\n";
		break;
	case SCSIOP_READ_FORMATTED_CAPACITY:
		t << "SCSIOP_READ_FORMATTED_CAPACITY\n";
		break;
	case SCSIOP_READ_CAPACITY:
		t << "SCSIOP_READ_CAPACITY\n";
		break;
	case SCSIOP_READ:
		t << "SCSIOP_READ\n";
		break;
	case SCSIOP_WRITE:
		t << "SCSIOP_WRITE\n";
		break;
	case SCSIOP_SEEK:
		t << "SCSIOP_SEEK\n";
		break;
	case SCSIOP_WRITE_VERIFY:
		t << "SCSIOP_WRITE_VERIFY\n";
		break;
	case SCSIOP_VERIFY:
		t << "SCSIOP_VERIFY\n";
		break;
	case SCSIOP_SEARCH_DATA_HIGH:
		t << "SCSIOP_SEARCH_DATA_HIGH\n";
		break;
	case SCSIOP_SEARCH_DATA_EQUAL:
		t << "SCSIOP_SEARCH_DATA_EQUAL\n";
		break;
	case SCSIOP_SEARCH_DATA_LOW:
		t << "SCSIOP_SEARCH_DATA_LOW\n";
		break;
	case SCSIOP_SET_LIMITS:
		t << "SCSIOP_SET_LIMITS\n";
		break;
	case SCSIOP_READ_POSITION:
		t << "SCSIOP_READ_POSITION\n";
		break;
	case SCSIOP_SYNCHRONIZE_CACHE:
		t << "SCSIOP_SYNCHRONIZE_CACHE\n";
		break;
	case SCSIOP_COMPARE:
		t << "SCSIOP_COMPARE\n";
		break;
	case SCSIOP_COPY_COMPARE:
		t << "SCSIOP_COPY_COMPARE\n";
		break;
	case SCSIOP_WRITE_DATA_BUFF:
		t << "SCSIOP_WRITE_DATA_BUFF\n";
		break;
	case SCSIOP_READ_DATA_BUFF:
		t << "SCSIOP_READ_DATA_BUFF\n";
		break;
	case SCSIOP_CHANGE_DEFINITION:
		t << "SCSIOP_CHANGE_DEFINITION\n";
		break;
	case SCSIOP_READ_SUB_CHANNEL:
		t << "SCSIOP_READ_SUB_CHANNEL\n";
		break;
	case SCSIOP_READ_TOC:
		t << "SCSIOP_READ_TOC\n";
		break;
	case SCSIOP_READ_HEADER:
		t << "SCSIOP_READ_HEADER\n";
		break;
	case SCSIOP_PLAY_AUDIO:
		t << "SCSIOP_PLAY_AUDIO\n";
		break;
	case SCSIOP_GET_CONFIGURATION:
		t << "SCSIOP_GET_CONFIGURATION\n";
		break;
	case SCSIOP_PLAY_AUDIO_MSF:
		t << "SCSIOP_PLAY_AUDIO_MSF\n";
		break;
	case SCSIOP_PLAY_TRACK_INDEX:
		t << "SCSIOP_PLAY_TRACK_INDEX\n";
		break;
	case SCSIOP_PLAY_TRACK_RELATIVE:
		t << "SCSIOP_PLAY_TRACK_RELATIVE\n";
		break;
	case SCSIOP_GET_EVENT_STATUS:
		t << "SCSIOP_GET_EVENT_STATUS\n";
		break;
	case SCSIOP_PAUSE_RESUME:
		t << "SCSIOP_PAUSE_RESUME\n";
		break;
	case SCSIOP_LOG_SELECT:
		t << "SCSIOP_LOG_SELECT\n";
		break;
	case SCSIOP_LOG_SENSE:
		t << "SCSIOP_LOG_SENSE\n";
		break;
	case SCSIOP_STOP_PLAY_SCAN:
		t << "SCSIOP_STOP_PLAY_SCAN\n";
		break;
	case SCSIOP_READ_DISK_INFORMATION:
		t << "SCSIOP_READ_DISK_INFORMATION\n";
		break;
	case SCSIOP_READ_TRACK_INFORMATION:
		t << "SCSIOP_READ_TRACK_INFORMATION\n";
		break;
	case SCSIOP_RESERVE_TRACK_RZONE:
		t << "SCSIOP_RESERVE_TRACK_RZONE\n";
		break;
	case SCSIOP_SEND_OPC_INFORMATION:
		t << "SCSIOP_SEND_OPC_INFORMATION\n";
		break;
	case SCSIOP_MODE_SELECT10:
		t << "SCSIOP_MODE_SELECT10\n";
		break;
	case SCSIOP_MODE_SENSE10:
		t << "SCSIOP_MODE_SENSE10\n";
		break;
	case SCSIOP_CLOSE_TRACK_SESSION:
		t << "SCSIOP_CLOSE_TRACK_SESSION\n";
		break;
	case SCSIOP_READ_BUFFER_CAPACITY:
		t << "SCSIOP_READ_BUFFER_CAPACITY\n";
		break;
	case SCSIOP_SEND_CUE_SHEET:
		t << "SCSIOP_SEND_CUE_SHEET\n";
		break;
	case SCSIOP_PERSISTENT_RESERVE_IN:
		t << "SCSIOP_PERSISTENT_RESERVE_IN\n";
		break;
	case SCSIOP_PERSISTENT_RESERVE_OUT:
		t << "SCSIOP_PERSISTENT_RESERVE_OUT\n";
		break;
	case SCSIOP_REPORT_LUNS:
		t << "SCSIOP_REPORT_LUNS\n";
		break;
	case SCSIOP_BLANK:
		t << "SCSIOP_BLANK\n";
		break;
	case SCSIOP_SEND_KEY:
		t << "SCSIOP_SEND_KEY\n";
		break;
	case SCSIOP_REPORT_KEY:
		t << "SCSIOP_REPORT_KEY\n";
		break;
	case SCSIOP_MOVE_MEDIUM:
		t << "SCSIOP_MOVE_MEDIUM\n";
		break;
	case SCSIOP_LOAD_UNLOAD_SLOT:
		t << "SCSIOP_LOAD_UNLOAD_SLOT\n";
		break;
	case SCSIOP_SET_READ_AHEAD:
		t << "SCSIOP_SET_READ_AHEAD\n";
		break;
	case SCSIOP_READ_DVD_STRUCTURE:
		t << "SCSIOP_READ_DVD_STRUCTURE\n";
		break;
	case SCSIOP_REQUEST_VOL_ELEMENT:
		t << "SCSIOP_REQUEST_VOL_ELEMENT\n";
		break;
	case SCSIOP_SEND_VOLUME_TAG:
		t << "SCSIOP_SEND_VOLUME_TAG\n";
		break;
	case SCSIOP_READ_ELEMENT_STATUS:
		t << "SCSIOP_READ_ELEMENT_STATUS\n";
		break;
	case SCSIOP_READ_CD_MSF:
		t << "SCSIOP_READ_CD_MSF\n";
		break;
	case SCSIOP_SCAN_CD:
		t << "SCSIOP_SCAN_CD\n";
		break;
	case SCSIOP_SET_CD_SPEED:
		t << "SCSIOP_SET_CD_SPEED\n";
		break;
	case SCSIOP_PLAY_CD:
		t << "SCSIOP_PLAY_CD\n";
		break;
	case SCSIOP_MECHANISM_STATUS:
		t << "SCSIOP_MECHANISM_STATUS\n";
		break;
	case SCSIOP_READ_CD:
		t << "SCSIOP_READ_CD\n";
		break;
	case SCSIOP_SEND_DVD_STRUCTURE:
		t << "SCSIOP_SEND_DVD_STRUCTURE\n";
		break;
	case SCSIOP_INIT_ELEMENT_RANGE:
		t << "SCSIOP_INIT_ELEMENT_RANGE\n";
		break;
	default:
		t << "Unknown CDB %x\n", Srb->Cdb[0];
		break;
	}

}
