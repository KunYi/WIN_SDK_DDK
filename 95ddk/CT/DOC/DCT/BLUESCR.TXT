NAME OF TEST: Blue Screen Test


TEST COVERAGE:
The Blue Screen test exercises the Display Driver/VDD/MiniVDDs handling of
the video mode switching required to display and return from a Windows
"blue screen" message.


TEST OPERATION:
The Blue Screen test simulates an exception error which causes a Windows
"blue screen" error message.  The fault generated by this test is an
"Invalid Opcode Exception" in FAULTST0.386.

NOTE: When running this test under a debugger -- such as Microsoft's
WDEB386 -- the simualted fault will break into the debugger.  When the
fault occurs, continue execution (i.e.  press 'gt' in WDEB386).  The test
will resume.

In VERIFY mode, the Blue Screen test presents a message describing the
test.  This dialog also presents a note on running this test under a
debugger (i.e.  WDEB386).  Following the openning dialog, the test uses
WINFAULT.EXE to generate the fault which c uses the blue screen message.
Press any key to continue.  The test then displays a dialog box asking if
the screen was restored correctly and exits.

There are no SMOKE or STRESS modes for this test.


FAILURE INFORMATION:
The Blue Screen test fails if the screen is not completely repainted, or if
the system hangs.  Typical causes of failures include the display driver
not fully repainting the screen due to the busy bit being set.


SAMPLE LOG DATA:
The following is an example of the data logged in the DCT.LOG file when the
Blue Screen test PASSES: __BEGIN Run of Blue Screen Test
(..\mstest30\mtrun.exe) at 04/18/1995 13:26:37 Performing Blue Screen Test.
If no results are shown in the log, assume the system hung and/or the
screen was not restored.  PASS!  The screen was restored correctly.  __END
Run of Blue Screen Test with result Passed at 04/18/1995 13:26:54


There are 2 possible ways that the DCT.LOG file can indicate a FAILURE in
the Blue Screen test: 1) The user clicks the No button when asked if the
screen painted correctly: __BEGIN Run of Blue Screen Test
(..\mstest30\mtrun.exe) at 04/21/1995 09:19:43 Performing Blue Screen Test.
If no results are shown in the log, assume the system hung and/or the
screen was not restored.  FAIL!  The screen was restored incorrectly.
__END Run of Blue Screen Test with result Failed at 04/21/1995 09:19:56

2) The system crashes/faults during the test, leaving an incomplete entry
for the Blue Screen Test.  __BEGIN Run of Blue Screen Test
(..\mstest30\mtrun.exe) at 04/21/1995 09:19:43 Performing Blue Screen Test.
If no results are shown in the log, assume the system hung and/or the
screen was not restored.

